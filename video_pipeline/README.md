# Video Pipeline – Build Loop Videos

Цей скрипт (`build_loop_videos.sh`) автоматично генерує плавні петлі відео з відео об'єднаного з додатковим фоном та експортує їх у різних форматах і роздільних здатностях.

---

## Вимоги

- **FFmpeg** (версія 4.0+ рекомендується)
- Bash shell (Linux/macOS, або WSL на Windows)
- Вхідні файли:
  - `BACKGROUND` – фонова картинка (JPEG/PNG)
  - `RAW_VIDEO` – сире відео, з якого буде робитися петля

---

## Структура скрипта

1. **Налаштування змінних**
  - `DURATION` – тривалість вихідного відео (секунди)
  - `FADE_DURATION` – тривалість затухання та появи (секунди)
  - Вхідні файли: `BACKGROUND`, `RAW_VIDEO`
  - Вихідні файли: `OUTPUT_FILENAME`
  - Папки: `TEMP_DIR` для тимчасових файлів, `OUTPUT_DIR` для готових відео

2. **Обрізка сирого відео**
  - Відео обрізається до `DURATION` секунд, зберігається у `TEMP_DIR`.

3. **Накладення відео на фон**
  - Відео снігу накладається на фон з використанням режиму `screen` для бленду.
  - Результат зберігається у `BLENDED_VIDEO`.

4. **Створення плавного loop**
  - Використовуються ефекти `fade` для плавного появи/затухання.
  - Складається петля шляхом накладання початку відео на кінець.
  - Вихідний файл – `LOOP_VIDEO`.

5. **Експорт відео**
  - HQ WEBM (VP9)
  - HQ MP4 (H.264)
  - Мобільні версії:
    - 720p (`_720`)
    - 540p (`_540`)

6. **Розміщення файлів**
  - Фінальні файли зберігаються в `OUTPUT_DIR`.
  - Тимчасові файли зберігаються в `TEMP_DIR`.

---

## Використання

1. Додати права на виконання скрипта:

```bash
chmod +x video_pipeline/build_loop_videos.sh
```

2. Запустити скрипт:

```bash
./build_loop_videos.sh
```
